<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link href="/style-index.css" rel="stylesheet" />
    <link href="/assets/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <script src="/js/themeManager.js" type="text/javascript"></script> 
    <!-- themeManager be uppermost imported script due to const localhost global usage -->
        <title>Reset account</title>
    <script src="/reset-password/reset-password.js" type="text/javascript"></script>

<!-- TODO fix missing theme and footers -->

</head>


<h1 class="header">Kies een nieuw wachtwoord</h1>

<body class="bodyDark" id="body">
  <div id="page-container">
      <div id="content-wrap"> 
          <div id="discoball" style="display: none;"><img alt="discoBallGif" src="/assets/discoBallGif.gif">
          </div>
          <main>
    Stel een nieuw wachtwoord in dat ten minste zes tekens lang is. <br/>
    Een sterk wachtwoord bestaat uit een combinatie van letters, cijfers en
    leestekens.<br/><br/>
    <form id="wijzigWachtwoord">
        <label for="password">Nieuw wachtwoord:</label>
        <input class="inputfield" id="password" name="password" type="password"/><br/><br/>
        <label for="password2">Nieuw wachtwoord (nogmaals):</label>
        <input class="inputfield" id="password2" name="password2" type="password"/><br/><br/>
        <input id="send_json" onclick="wijzigWachtwoord()" type="button" value="Wachtwoord updaten"/>
        <span id="postresponse"></span>
    </form>
    <input
    id="toggle"
    onclick="wwZichtbaarToggle()"
    type="checkbox"
/>
<label for="toggle"
    >Toon wachtwoord</label>
    <br>
</main>
</div>
<footer id="footer">
</footer>
</div>
<script>
      console.log('checking for JWT')
      laadFunctie();
    
    function laadFunctie() {
      if (sessionStorage.getItem('JWT') === null) {
        let params = (new URL(document.location)).searchParams;
        let token = params.get("token");
        sessionStorage.setItem('JWT', token) // slaat de token van de link op in localstorage
      }
    }
    </script>
</body>

</html>
